openapi: 3.1.0
info:
  title: Image Service API
  version: 1.0.0
  license:
    name: N/A
    url: 'https://notapplicable.com'
  contact:
    name: Zeus Team
    email: zeusdevs@pamediagroup.com
    url: N/A
  summary: An API to retrieve multiple formats of image assets. // TODO improve
  description: // TODO improve
tags:
  - name: Images
    description: Images tag
servers:
  - url: 'https://images.streamamg.com'
paths:
  '/images/{id}/renditions':
    get:
      operationId: get-image-renditions
      summary: Fetch all available renditions of an image
      description: // TODO
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique ID of the image
      responses:
        '200':
          description: //TODO
          content:
            application/json:
              schema:
                type: object
                properties:
                  title:
                    type: string
                    description: image title can be used for alt attribute when embedding into HTML
                  renditions:
                    type: object
                    additionalProperties:
                      type: object
                      properties:
                        width:
                          type: integer
                        height:
                          type: integer
                        type:
                          type: string
                          enum:
                            - png
                            - jpeg
                            - gif
                            - webp
                        url:
                          type: string
              examples:
                1x1:
                  value:
                    title: test image title
                    renditions:
                      'original':
                        width: 550
                        height: 550
                        type: jpeg
                        url: 'http://images.streamamg.com/345455b2-8f0f-4442-b317-da58396742a9?width=550'
                Example 2:
                  value:
                    renditions:
                      property1:
                        width: 0
                        height: 0
                        type: png
                        url: string
                      property2:
                        width: 0
                        height: 0
                        type: png
                        url: string
        '404':
          description: Image not found
        '500':
          description: Server error
  '/images/{id}':
    get:
      operationId: get-by-id
      summary: Fetch image details and the image
      description: Fetch image details and the image // TODO
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: Unique ID of the image
        - name: width
          in: query
          schema:
            type: integer
            minimum: 1
          description: Desired width of the image (if used together with height will take precedence)
        - name: height
          in: query
          schema:
            type: integer
            minimum: 1
          description: Desired height of the image
      responses:
        '200':
          description: Image details and url
          content:
            image/jpeg:
              schema:
                type: object
                properties: {}
            image/png:
              schema:
                type: object
                properties: {}
            image/webp:
              schema:
                type: object
                properties: {}
            image/gif:
              schema:
                type: object
                properties: {}
        '404':
          description: Image not found
        '500':
          description: Server error
